# Семестровый проект по курсу [Совместная разработка приложений на Python](https://uneex.org/LecturesCMC/PythonDevelopment2024)

## Описание проекта

В рамках семестрового проекта был реализован Telegram бот для помощи поисковым группам. Вместо того, чтобы постоянно мониторить канал в течение своего дежурства в ожидании сообщения о пропаже человека, пользователь может оставить свой контакт боту с указанием кол-ва часов, в течение которых готов принимать звонки. Каждый раз, когда в канале будет публиковаться пост, бот уведомит пользователя об этом, позвонив ему по указанному номеру. 

## Как запустить бота

1. Создайте в папке с проектом виртуальное окружение и установите туда все необходимые пакеты с помощью команды
```bash
pip install -r requirements.txt
```
2. Создайте нового бота в Телеграме через BotFather и получите его токен.
3. Вставьте токен в переменную окружения TELEGRAM_API_TOKEN через команду
```bash
export TELEGRAM_API_TOKEN=токен_полученный_у_botfather
```
4.  Зарегистрируйтесь в сервисе автоматического обзвона клиентов [Звонок](https://zvonok.com/). Вам выдадут публичный API ключ.
5. Вставьте полученный ключ в переменную окружения ZVONOK_API_TOKEN через команду
```bash
export ZVONOK_API_TOKEN=публичный_zvonok_api_ключ
```
6. Запустите бота через команду
```bash
python main.py --env production
```

## Как пользоваться ботом

Бот поддерживает следующие команды:
- `/start` - запустить бота
- `/call N` - поставить бота на дозвон в течение N часов
- `/number` - отправить боту номер телефона, привязанный к телеграм аккаунту

Добавьте бота в канал, чтобы он мог отслеживать там посты.
